@layer pages {
	main.research {
		overflow: scroll;
		padding: 0;
		background:
			url('../../images/textures/dot-grid.avif') 0 0 / 20px repeat,
			url('../../images/textures/vignette.avif') center / cover no-repeat
		;
		background-blend-mode: overlay, normal;
		background-attachment: local, fixed;
		background-color: lch(17 0 0);
		cursor: var(--cursor-grab);
	}
	
	main.research .grid {
		display: inline-grid;
		grid-template-columns: repeat(var(--columns), 100px);
		grid-template-rows: repeat(var(--rows), 60px);
		grid-gap: 40px 60px;
		margin: 500px;
	}
	
	main.research canvas {
		grid-area: 1 / 1 / -1 / -1;
		z-index: -3;
	}
	
	main.research.is-dragging {
		cursor: var(--cursor-grabbing);
		user-select: none;
	}
	
	main.research.is-dragging > * {
		pointer-events: none;
	}
	
	main.research .tech {
		position: relative;
		cursor: var(--cursor-pointer);
	}
	
	/* main.research .tech {
		position: relative;
		width: 100px;
		height: 60px;
		background-color: var(--tech-unavailable);
		cursor: var(--cursor-pointer);
	}
	
	main.research .tech.hovered {
		outline: 1px solid var(--tech-hovered);
	}
	
	main.research .tech:hover {
		outline: 3px solid var(--tech-hovered);
	}
	
	main.research .tech.can-research {
		background-color: var(--tech-available);
	}
	
	main.research .tech.is-researched {
		background-color: var(--tech-researched);
		outline: 3px solid var(--tech-researched-border);
	} */
	
	main.research .tech .name {
		position: absolute;
		left: 0;
		right: 0;
		bottom: 100%;
		min-width: fit-content;
		padding-bottom: 4px;
		color: var(--neon-white);
		font-stretch: 80%;
		font-size: 0.75rem;
		white-space: nowrap;
	}
	
	main.research .tech .icon {
		position: absolute;
		inset: 0;
		width: 40px;
		margin: auto;
	}
	
	
	/* main.research .tile {
		width: 100px;
		height: 60px;
		background-color: var(--tech-unavailable);
	} */
	
	
	main.research .tech .tile {
		position: relative;
		width: 100px;
		height: 60px;
		cursor: var(--cursor-pointer);
		--clip-path: polygon(
			0 6px,
			6px 0,
			100% 0,
			100% calc(100% - 6px),
			calc(100% - 3px) calc(100% - 3px),
			calc(100% - 12px) calc(100% - 3px),
			calc(100% - 15px) 100%,
			0 100%
		);
	}
	
	main.research .tile::before {
		position: absolute;
		inset: -2px;
		z-index: -2;
		content: '';
		background-color: var(--tech-hovered);
		clip-path: var(--clip-path);
		opacity: 0;
		/* transition: opacity 120ms, inset 300ms; */
		transition: opacity 140ms;
		pointer-events: none;
	}
	
	main.research .tech.hovered .tile::before,
	main.research .tech:hover .tile::before {
		opacity: 1;
		transition-duration: 60ms;
	}
	
	main.research .tech.is-researched .tile::before {
		inset: -3px;
		background-color: var(--tech-researched-border);
		opacity: 1;
	}
	
	main.research .tile::after {
		position: absolute;
		inset: 0px;
		z-index: -1;
		content: '';
		background-color: var(--tech-unavailable);
		clip-path: var(--clip-path);
	}
	
	main.research .tech.can-research .tile::after {
		background-color: var(--tech-available);
	}
	
	main.research .tech.is-researched .tile:after {
		background-color: var(--tech-researched);
	}
	
	
	
	
	
	main.research .about {
		grid-column: 1 / 3;
		grid-row: 1 / 4;
		height: fit-content;
	}
	
	main.research .reset {
		display: block;
		margin-top: 10px;
		padding: 6px 10px;
		border: 1px solid var(--neon-red);
	}
	
	
	
	
	/* main.research .grid { grid-template-rows: repeat(var(--rows), minmax(60px, auto)) }
	main.research .tech .tile { transition: width 200ms, height 200ms }
	main.research .tech:hover .tile { width: 140px; height: 140px; } */
}